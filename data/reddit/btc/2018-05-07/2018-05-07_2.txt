File created at: 1525716216
Subreddit: btc
Submission title: Critical vulnerability applicable to miners of Bitcoin Cash using Bitcoin-ABC 0.17.0
Submission created utc: 1525692098
Submission score: 219
comments: (level	created_utc	comment_score	comment_body)

0	1525696317	31	Bounty system would be great. Maybe community could donate and reward for bugs found?
0	1525693368	54	Well done, everyone involved. I'm glad to see parties are aware improvements to the process are necessary. I hope it materializes into something constructive and does not get forgotten quickly.I will be sending some more cash your way soon. It is well deserved. Thank you.
0	1525704410	15	Great work ABC!  And a thank you to the good samaritan who reported the issue :)
0	1525693749	33	Actioned promptly and professionally.
0	1525704260	9	Bug bounty program:people (not just Bitcoin ABC) could be interested in: https://hacktrophy.com/
1	1525713545	1	Do they accept BCH for bounties?
0	1525711301	5	A bug bounty, and longer testing times for new releases are long overdue...|Please put more effort to have future releases have at least several months of testing on the testnet, with the bug bounty already counting there (paid on mainnet though, obviously), so even a potential attacker might consider informing devs of the bug in order to be able to get some money before the vulnerability gets fixed.
1	1525715230	1	You can't test security. However, we are eagerly warting for your code reviews.
0	1525705516	3	well done though.
0	1525698384	6	Why is the release private? Why not public?
1	1525699930	12	It is public.
1	1525700758	25	i think he's saying it was released to "the miners" privately before they gave the public the code so that the public wouldnt see how easy it was to attack the network.  once the miners had the new code in place, they released the code on their website, and after thats been out a week or so now, they explained the problem.
2	1525709053	2	This was a poor idea that goes against the "anti-centralization" ethos that bitcoin cash supposedly supports.  This gave big miners an unfair advantage over pools that were just starting out, or which switch between bitcoins and bitcoin cash.
3	1525709917	12	This does not give miners any advantage whatsoever and avoids making it easier for people to exploit the bug.Totally reasonable
4	1525711744	3	I think he's saying this privileged knowledge would have allowed the trusted miners to force other miners to be forked off, or at lesst protected the trusted miners more in case there was an attack in the meantime.
5	1525713773	2	Thankfully the economic incentives within BCH worked and miners didn't sabotage their own interests.  Cool huh?
1	1525699848	6	What?
1	1525711586	2	Because the vulnerability was discovered on code that was already being used on mainnet; so they first ensure the more essential people they knew could be trusted had already made things safe before informing potential attackers of how to perform the attack; I guess it can be considered an extension of Responsible Disclosure.
1	1525707622	-16	> Why is the release private? Why not public?Coz it's bcash, not open Bitcoin.
2	1525710445	6	Bcore's policy is literally to keep it private and not tell anyone else that might be affected for months.  They have the most unethical "Responsible disclosure policy" I've ever heard of.But keep on shillin'
2	1525708356	3	yeah, like Bcore BTC never used the same process.
0	1525693199	7	Does this also affect bitcoin core, as core was the base for ABC?
1	1525693643	22	No it was just ABC strictly. BU and Core didn't have the issue.
2	1525700225	37	Hooray for multiple competing implementations!
3	1525709567	-7	Agreed! The higher likelihood of chain splits makes it much more exciting. To the moon!
4	1525713392	1	Maximalism doesnâ€™t belong in crypto. Consider participating in another industry. One that isnâ€™t entirely centered around the decentralization of power. 
2	1525708402	4	why didn't BU have the same problem?  what was the bug?
3	1525714682	3	ABC wasn't checking for an invalid sighash type 0x20 and rejecting those txns.
4	1525714878	1	thank you. keep up the good work.
2	1525693985	-31	BUCash affected too
3	1525694634	25	No. BU didn't have to patch anything.
4	1525700626	-9	https://news.bitcoin.com/pr-bitcoin-abc-incident-report-26apr2018/> BUCash (Bitcoin Unlimited) and versions of Bitcoin-ABC prior to 0.17.0 could have been split from the majority Bitcoin Cash blockchain. Only Bitcoin ABC and BUCash nodes were included in the analysis of this vulnerability.
5	1525701231	10	Because the bug was in Bitcoin-ABC 0.17.0
3	1525700804	21	BU was not affected.
4	1525708457	4	can you explain the bug?
5	1525713590	1	[https://www.bitcoinabc.org/2018\-05\-07\-incident\-report/](https://www.bitcoinabc.org/2018-05-07-incident-report/)
6	1525713993	1	ah yes, thank you.  might help if i read...
7	1525715088	1	The new layout makes it easy to miss.
1	1525708448	-9	> Does this also affect bitcoin core, as core was the base for ABC?No, Core has actual developers and a review process, years since a fuckup now.This is why we, and most of Bitcoiners value the Bitcoin instead of cheap chinese imitations. 
2	1525709970	3	What are you doing here then
3	1525714010	1	> What are you doing here thenLaughing á••( á› )á•—
2	1525711279	1	Is that fear I smell?
2	1525713440	1	If this place upsets you so much, please unsubscribe. Win-win. 
0	1525693072	9	Wow. Looks like you guys dodged a bullet. I wonder who the good samaritan is? Greg maxwell? Lol.
0	1525714198	1	Id it possible to run multiple implementations of node software and publish found blocks with all of them? 
0	1525715229	1	 If exploited the flaw would have caused an unintended split in the Bitcoin Cash network.
0	1525710629	0	Privately released to miners, eh. The decentralized vision is strong with this one. 
0	1525694201	-8	> Bitcoin ABC wants to thank the person(s) who disclosed this vulnerability responsibly. They provided a clear and professional report. If they are willing to come forward, we would like to ensure they receive a reward.This is very relevant, as it evidences that BitcoinABC is well funded (by undisclosed parties).
1	1525696084	28	Because the informant gave a professional report?Or because ABC are offering a reward? You know people who lose their pets offer a reward too.
1	1525696196	15	We were planning to use some or all of the 9.79 BCH we received in donations...  Also, I imagine some of the miners would like to thank that person.https://blockdozer.com/address/qqeht8vnwag20yv8dvtcrd4ujx09fwxwsqqqw93w88
1	1525702747	5	Hahah what? Nice leap dude.
1	1525708789	2	man, your logic is failing miserably throughout this thread.  you like Blockstream/AXA funding i presume?
1	1525694578	7	Blockstream?
2	1525700022	6	Well, that'd quite certainly be an *interesting* plot twist.
3	1525708904	1	the idea is that *everyone* likes to make money, even Blockstream.  maybe one day they'll see that their initial roadmap was flawed and decide to go all in on BCH.  highly doubtful but then again, they're a bunch of money-grubbing scoundrels.
0	1525694107	-8	"applicable to miners"? No, to every peer on the network.
1	1525696748	28	No, only to miners. Only miners could insert that tx into a block.
1	1525694851	14	Only miners can stand to lose anything from running a faulty node. An unpatched non-mining node will initially accept the faulty block, but unless there's a significant hashrate behind it, the faulty chain will quickly be orphaned within 2-3 blocks. The only potential loss comes from a merchant accepting zeroconf on their unpatched nodes and getting the block mined by a faulty node, then orphaned. 
2	1525697034	7	> The only potential loss comes from a merchant accepting zeroconf on their unpatched nodes and getting the block mined by a faulty node, then orphaned.And then the tx inputs purposefully used on another tx to try and double-spend.
2	1525701274	2	> unless there's a significant hashrate behind itOne week ago, ABC 0.17.0 had a majority hashrate behind it; it would certainly have not been "quickly orphaned".
3	1525702752	3	You're right, and that is precisely why it was pushed out to miners first.
1	1525695633	8	However non mining nodes have no effect on the network, so it doesn't really matter.Non mining nodes only benefit the user who is running it. They actually have a negative effect on the network by delaying transaction propagation getting to an actual miner.To the downvoters: Care to explain how a non mining node benefits the network, not just the user running it?
2	1525708716	3	i agree with you to an extent but never like to take these concepts to an extreme.  imo, having all those extra copies of the ledger on non-mining nodes provides a degree of check on the miners as well as gvt attack on the mining industry in general.  how much of a check, i don't know.  but i'll always keep updated copies around just in case.
3	1525710146	0	If the blockchain is at the point where the last miner left needs to get a redundant copy of the ledger from a non-mining node, then the jig is already up and the game is already over.
4	1525710848	3	the way i look at it is that all those thousands of non mining node ledger copies are what provide additional deterrent to TPTB to try and shutdown all miners worldwide.
5	1525711042	1	If every miner was shut down, and there was a billion non-mining nodes, including a backup of the ledger on Jupiter Station, how would it help?No blocks = chain deathValue would drop to zero, game over.
6	1525711198	2	new miners would pop up:  whack a mole
7	1525711645	1	Sorry I was imagining the scenario you said, which was *all miners shut down*.This means every ASIC destroyed or confiscated. A highly improbable situation, but I was rolling with it.~~If there is one miner left, then it isn't dead.~~ Incorrect. We need more than one miner to have sufficient decentralisation to keep the network secure. - Edit: Actually thinking about this, if there was a single miner left, it would be in their best interest to act honestly. As soon as they did not, value would be zero and their block reward would be worth nothing.Still, what role do non-mining nodes play here?
8	1525712815	1	> Sorry I was imagining the scenario you said, which was all miners shut down.me too.now that i think about it more, what's really MOST important here in an all out attack on Bitcoin; the ledger or the miners?  for argument's sake, i'll take the ledger for the purposes of this discussion.  in this scenario, miners are just another actor in the system; accountants.  as long as a true copy of the ledger exists somewhere on a non-mining node (assuming all miners have been wiped out) there is infinite incentive for new miners to pop up to perpetuate the sound money aspect of Bitcoin which will once again lead to great wealth.  so yeah, i'm thinking one step beyond THE END.
9	1525713252	1	I get what you're saying, and I'm enjoying the discussion.The thing is, you must have miners or the chain is dead. And the miners must have the ledger to add new blocks.So by that logic, if the chain is still being mined, a miner will never ever need to get the ledger from a non-mining node.Therefore, non-mining nodes do not actually provide any benefit to the network in the way of redundant ledger copies.To me that logic seems sound.
0	1525702214	-11	This is the downside to multiple implementations. Every implementation has to be completely in lockstep with all other implementations. One tiny little difference and the network splits.
1	1525708773	3	That's insane.  Multiple implementations means that one implementation going haywire doesn't bring down the entire network.  Imagine if there was only one implementation and it had a bug that allowed unlimited coins to be mined.  Like what happened in 2010.  That's network-crippling and stops the entire system.  Now imagine ten different implementations and one of them with say 15% of the network using them has that same bug.  They fork off the main network, and everybody realizes what has happened and the network itself isn't harmed.  On top of that, the network orphans their invalid block, and even people using the bad implementation still converge back onto the correct valid chain after a few blocks.  The absolute worst thing the network as a whole ever suffers is the temporary loss of the hashrate of the miners using the bad implementation.  That's it.Multiple implementations are *clearly* better for a decentralized protocol.  There's just no two ways about it.
2	1525714900	1	>  Multiple implementations means that one implementation going haywire doesn't bring down the entire networkNone of the implementations should ever go "haywire". "Multiple implementations" is fixing a problem that can easily not exist by not ever changing the code for any reason. In my opinion, no changes ever need to be made to bitcoin's implementation (except for the blocksize limit being raised when it's needed). The problem here is that the ABC developers feel the need to change the code at all.> Multiple implementations are clearly better for a decentralized protocol. There's just no two ways about it.The best thing for a decentralized protocol is that the code never changes, ever. Or, if it does have to change, it must do so in such a way that an error is impossible, or at least made to be very unlikely.
3	1525715864	1	> None of the implementations should ever go "haywire". "Multiple implementations" is fixing a problem that can easily not exist by not ever changing the code for any reason.Except that never changing the code is a recipe for disaster.  You don't know ahead of time if you've made mistakes, so when you find those mistakes, you need to be able to fix them.  Let's take that 2010 bug where what was it like 150 billion new coins were able to be created out of thin air.  You could say that "all bugs are official" and just not fix them, but then the code differs from what people thought it was, and people become afraid to use the network because they can't be assured it will act in the way they thought it would.  So either you have to risk your network being completely useless because it cannot be trusted if bugs aren't allowed to be fixed, or you must have a method of fixing bugs that you identify.  This is precisely why multiple implementations help, because they'll all have *different* bugs, and the fact that the majority of the network considers something invalid is a strong indication to any one implementation that something it did is in fact a bug and not widely viewed as a part of the consensus protocol.> In my opinion, no changes ever need to be made to bitcoin's implementation (except for the blocksize limit being raised when it's needed).How do you know when its needed?  Who decides this?  When and how is it implemented?  How is this new code tested, if you're not going to change it again for a long time...Most people would have agreed with your statement a few years ago, but we all just disagreed on exactly when such an upgrade was "necessary".> The best thing for a decentralized protocol is that the code never changes, ever.No, the *protocol specification* is what should not change.  That's the social contract that people are agreeing to when they run the software.  They expect the software to follow a certain protocol.  And multiple implementations is what protects that protocol and ensures it acts in a predictable and verifiable way, and that any one software implementation fucking it up won't screw with the protocol or make the protocol act in a way that most people would not consider as part of the protocol.> Or, if it does have to change, it must do so in such a way that an error is impossible, or at least made to be very unlikely.So uh you [implied elsewhere](https://www.reddit.com/r/btc/comments/8hmqk6/critical_vulnerability_applicable_to_miners_of/dyl6xbz/) that you were a software developer, but I really have a hard time believing a programmer can make such a statement.  It's not possible to write programs where errors are impossible.  Even if your program is solely composed of formally verifiable algorithms, the compilers and hardware of people who run it may contain errors.  And I highly doubt that any software you write is 100% comprised of only formally verifiable code.  Software gets bugs, that's just life.  You can test it all you want, but something's going to fuck it up at some point.  You made a mistake, or the computer you're using flipped a bit in RAM and now the program's data is different, or any number of other reasons....  But somehow, the software does unexpected things.  You have to plan for that.  And in the case of protecting a decentralized protocol, having multiple different implementations is one of the best ways to protect it.
2	1525715075	1	>I don't believe a second, compatible implementation of Bitcoin will ever be a good idea.  So much of the design depends on all nodes getting exactly identical results in lockstep that a second implementation would be a menace to the network.-[Satoshi Nakamoto](https://bitcointalk.org/index.php?topic=195.msg1611#msg1611)
3	1525715924	1	So, and, but, therefore?He was wrong about that.  That's really all there is to it.
1	1525712162	2	You know why sex evolved instead of all species just multiplying by cloning? In case a pathogen is able to take down one individual, there is a higher chance other individuals will have enough differences in their own DNA to survive, genetic diversity increases the odds the species as a whole will survive; the good thing with multiple implementations is that if there is a serious bug in one, there is a higher chance the network as a whole will still survive.
1	1525702836	5	This is good side. The implementations have to work as intended otherwise buggy one will cause split. This is why should always try to download client that not everyone else is using to try and ensure there is no "leading client" (by %)
2	1525705387	3	A bug does generally not cause a split. Splits occur when different implementations don't have the same bugs.It's fine if implementations contain bugs, as long as they all contain the same bugs.
2	1525705702	2	\> The implementations have to work as intended otherwise buggy one will cause split.Truly spoken like someone who has never worked a day in software development. On average there is, at the very least, one bug per every 100 lines of code. Meaning under closer inspection and especially for edge cases, that line of code will not "work as intended". Multiple implementations exponentiate the likelihood of consensus errors. There is absolutely no way to determine the magnitude of the resulting problems. Believing that an error on 1/10 clients will result in 10&#37; forking off is naive at best. No serious institutional entity will consider relying on a network that poses the risk of consensus failures leading to financial loss.Of  course what I wrote is only important if what we are talking about is a system for distributed consensus. If there's only one miner \(Bitmain\) and 500 sock puppet full nodes running on Chinese data centers, while we all run SPV wallets and trust everything is fine... well then nothing really matters at all.
3	1525710886	1	There is also the case where a single implementation causes every miner on the network to mine on an invalid block, as has happened [back in 2010](https://en.bitcoin.it/wiki/Value_overflow_incident). They all needed to be rolled back, but it didn't really cause any "financial loss". Bitcoin in itself is very robust. In the case of multiple implementations, only the buggy implementation would mine the invalid block, while the rest of the network carries on with lower mining rates (although BCH's DAA would sort it out rather quickly, not causing major disruptions to the network).I don't quite get what you are trying to say. We should go back to only having one reference implementation to the *protocol*? To allow repetition of what has happened with Bitcoin Core? Bitcoin is a protocol, not a software implementation. Having multiple implementations of said protocol decentralizes decision making and increases redundancy in case of failure. Right now, most miners mine with ABC, which wouldn't help redundancy in this case, but having no reference implementation is still a newish development. We need to abandon central planning.> Of course what I wrote is only important if what we are talking about is a system for distributed consensus. If there's only one miner (Bitmain) and 500 sock puppet full nodes running on Chinese data centers, while we all run SPV wallets and trust everything is fine... well then nothing really matters at all.Are you trying to imply something here (BCH is centralized hurr durr), or just putting out a random example?
3	1525705718	-1	Redditor /u/FreedomlsntFree has low karma in this subreddit.
1	1525709092	0	> One tiny little difference and the network splits.true, but not permanently or long term.  the buggy implementation should quickly fix the bug to re-converge with the mainchain.
1	1525711948	1	> One tiny little difference and the network splitsNot true. Network splits if miners choose to run different software or, like in that case, bugs are found. In second case split ends as soon as bug is fixed, or completely avoided, like in that case
0	1525706828	-6	ğŸ˜‚ğŸ˜‚ğŸ˜‚
1	1525706841	3	Redditor /u/Etovia has low karma in this subreddit.
2	1525713507	1	Good bot.
